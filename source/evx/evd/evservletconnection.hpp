///////////////////////////////////////////////////////////////////////
//   File: evservletconnection.hpp
//
// Author: $author$
//   Date: 4/23/2007
//
//    $Id$
///////////////////////////////////////////////////////////////////////

#ifndef _EVSERVLETCONNECTION_HPP
#define _EVSERVLETCONNECTION_HPP

#include "evinstance.hpp"
#include "evbase.hpp"

class EV_EXPORT_CLASS EvServlet;
class EV_EXPORT_CLASS EvServletServer;
class EV_EXPORT_CLASS EvcpServletConnection;

///////////////////////////////////////////////////////////////////////
//  Class: EvServletConnection
//
// Author: $author$
//   Date: 4/23/2007
///////////////////////////////////////////////////////////////////////
class EV_EXPORT_CLASS EvServletConnection
: virtual public EvInstance
{
public:
    typedef EvInstance CImplements;
    typedef EvServletConnection CDerives;

    ///////////////////////////////////////////////////////////////////////
    // Function: Initialize
    //
    //   Author: $author$
    //     Date: 9/10/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError Initialize() = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: Finalize
    //
    //   Author: $author$
    //     Date: 9/10/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError Finalize() = 0;

    ///////////////////////////////////////////////////////////////////////
    // Function: ConnectionInitialize
    //
    //   Author: $author$
    //     Date: 9/22/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError ConnectionInitialize
    (EvServletConnection& connection) = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: ConnectionFinalize
    //
    //   Author: $author$
    //     Date: 9/22/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError ConnectionFinalize
    (EvServletConnection& connection) = 0;

    ///////////////////////////////////////////////////////////////////////
    // Function: GetEvcpServletConnection
    //
    //   Author: $author$
    //     Date: 9/23/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvcpServletConnection* 
    GetEvcpServletConnection() const = 0;

    ///////////////////////////////////////////////////////////////////////
    // Function: DeleteAllServletConnections
    //
    //   Author: $author$
    //     Date: 9/22/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError DeleteAllServletConnections() = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: AddServletConnection
    //
    //   Author: $author$
    //     Date: 4/30/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError AddServletConnection
    (EvServletConnection& servletConnection) = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: RemoveServletConnection
    //
    //   Author: $author$
    //     Date: 4/30/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvServletConnection* RemoveServletConnection
    (const EvServlet& servlet) = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: FindServletConnection
    //
    //   Author: $author$
    //     Date: 4/30/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvServletConnection* FindServletConnection
    (const EvServlet& servlet) const = 0;

    ///////////////////////////////////////////////////////////////////////
    // Function: DeleteAllServletContexts
    //
    //   Author: $author$
    //     Date: 6/12/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError DeleteAllServletContexts() = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: AddServletContext
    //
    //   Author: $author$
    //     Date: 4/30/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError AddServletContext
    (EvServlet& servletContext) = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: RemoveServletContext
    //
    //   Author: $author$
    //     Date: 4/30/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvServlet* RemoveServletContext
    (const EvServlet& servlet) = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: FindServletContext
    //
    //   Author: $author$
    //     Date: 4/30/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvServlet* FindServletContext
    (const EvServlet& servlet) const = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: FindServletContextByName
    //
    //   Author: $author$
    //     Date: 5/24/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvServlet* FindServletContextByName
    (const char* name, LONG length=-1) const = 0;

    ///////////////////////////////////////////////////////////////////////
    // Function: SetKeepAlive
    //
    //   Author: $author$
    //     Date: 4/23/2007
    ///////////////////////////////////////////////////////////////////////
    virtual bool SetKeepAlive(bool on=true) = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: GetKeepAlive
    //
    //   Author: $author$
    //     Date: 4/23/2007
    ///////////////////////////////////////////////////////////////////////
    virtual bool GetKeepAlive() const = 0;

    ///////////////////////////////////////////////////////////////////////
    // Function: GetServer
    //
    //   Author: $author$
    //     Date: 5/14/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvServletServer& GetServer() const = 0;

    ///////////////////////////////////////////////////////////////////////
    // Function: SetServlet
    //
    //   Author: $author$
    //     Date: 9/23/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError SetServlet
    (EvServlet* servlet) = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: GetServlet
    //
    //   Author: $author$
    //     Date: 9/23/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvServlet* GetServlet() const = 0;
};
#endif // _EVSERVLETCONNECTION_HPP
