///////////////////////////////////////////////////////////////////////
//   File: evcpservletcontext.hpp
//
// Author: $author$
//   Date: 5/24/2007
//
//    $Id$
///////////////////////////////////////////////////////////////////////

#ifndef _EVCPSERVLETCONTEXT_HPP
#define _EVCPSERVLETCONTEXT_HPP

#include <vector>
#include "evservletcontext.hpp"
#include "evcsallocator.hpp"

class EV_EXPORT_CLASS EvcpServlet;
class EV_EXPORT_CLASS EvCiServletContext;
class EV_EXPORT_CLASS EvCoServletContext;

///////////////////////////////////////////////////////////////////////
//  Class: EvcpServletContext
//
// Author: $author$
//   Date: 5/24/2007
///////////////////////////////////////////////////////////////////////
class EV_EXPORT_CLASS EvcpServletContext
: virtual public EvServletContext
{
public:
    typedef EvServletContext CImplements;
    typedef EvcpServletContext CDerives;
    ///////////////////////////////////////////////////////////////////////
    // Function: AcquireEvcs
    //
    //   Author: $author$
    //     Date: 5/24/2007
    ///////////////////////////////////////////////////////////////////////
    virtual Evcs* AcquireEvcs
    (EvError& error, const char* name, LONG length=-1) = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: AcquireEvcs
    //
    //   Author: $author$
    //     Date: 5/24/2007
    ///////////////////////////////////////////////////////////////////////
    virtual Evcs* AcquireEvcs(EvError& error) = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: ReleaseEvcs
    //
    //   Author: $author$
    //     Date: 5/24/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError ReleaseEvcs(Evcs& evcs) = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: GetEvcpServlet
    //
    //   Author: $author$
    //     Date: 5/24/2007
    ///////////////////////////////////////////////////////////////////////
    virtual const EvcpServlet& GetEvcpServlet() const = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: GetCiServletContext
    //
    //   Author: $author$
    //     Date: 6/3/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvCiServletContext* GetCiServletContext
    (EvError& error) const = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: GetCoServletContext
    //
    //   Author: $author$
    //     Date: 9/19/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvCoServletContext* GetCoServletContext
    (EvError& error) const = 0;
};

///////////////////////////////////////////////////////////////////////
//  Typedef: EvcpServletContexts
//
//   Author: $author$
//     Date: 6/3/2007
///////////////////////////////////////////////////////////////////////
typedef ::std::vector<EvcpServletContext*>
EvcpServletContexts;

///////////////////////////////////////////////////////////////////////
//  Typedef: EvcpServletContextsIterator
//
//   Author: $author$
//     Date: 6/3/2007
///////////////////////////////////////////////////////////////////////
typedef EvcpServletContexts::iterator
EvcpServletContextsIterator;

///////////////////////////////////////////////////////////////////////
//  Typedef: const_EvcpServletContextsIterator
//
//   Author: $author$
//     Date: 6/3/2007
///////////////////////////////////////////////////////////////////////
typedef EvcpServletContexts::const_iterator
const_EvcpServletContextsIterator;

#endif // _EVCPSERVLETCONTEXT_HPP
