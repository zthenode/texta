///////////////////////////////////////////////////////////////////////
//   File: evcsarchive.hpp
//
// Author: $author$
//   Date: 9/28/2007
//
//    $Id$
///////////////////////////////////////////////////////////////////////

#ifndef _EVCSARCHIVE_HPP
#define _EVCSARCHIVE_HPP

#define EVCS_ARCHIVE

#include "evcspendingactions.hpp"
#include "evcsdo.hpp"
#include "evcsget.hpp"
#include "evcsput.hpp"
#include "evcsentry.hpp"

///////////////////////////////////////////////////////////////////////
//  Class: EvcsArchive
//
// Author: $author$
//   Date: 9/28/2007
///////////////////////////////////////////////////////////////////////
class EV_EXPORT_CLASS EvcsArchive
: virtual public EvcsPendingActions
{
public:
    typedef EvcsPendingActions CImplements;
    typedef EvcsArchive CDerives;

    ///////////////////////////////////////////////////////////////////////
    // Function: Open
    //
    //   Author: $author$
    //     Date: 9/28/2007
    ///////////////////////////////////////////////////////////////////////
    static EvcsArchive* Open
    (EvError& error,
     const char* name=0,
     LONG length=-1);
    ///////////////////////////////////////////////////////////////////////
    // Function: Close
    //
    //   Author: $author$
    //     Date: 9/28/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError Close() = 0;

    ///////////////////////////////////////////////////////////////////////
    // Function: Do
    //
    //   Author: $author$
    //     Date: 10/8/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError Do() = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: FinishDo
    //
    //   Author: $author$
    //     Date: 10/8/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError FinishDo() = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: CancelDo
    //
    //   Author: $author$
    //     Date: 10/8/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError CancelDo() = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: GetDo
    //
    //   Author: $author$
    //     Date: 10/8/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvcsDo* GetDo
    (EvError& error) const = 0;

    ///////////////////////////////////////////////////////////////////////
    // Function: GetEntry
    //
    //   Author: $author$
    //     Date: 9/28/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvcsGet* GetEntry
    (EvError& error,
     EvcsEntry& entry,
     const char* entryPathName,
     bool isRecursive=false) = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: PutEntry
    //
    //   Author: $author$
    //     Date: 9/28/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvcsPut* PutEntry
    (EvError& error,
     const EvcsEntry& entry,
     const char* entryPathName) = 0;

    ///////////////////////////////////////////////////////////////////////
    // Function: LockEntry
    //
    //   Author: $author$
    //     Date: 10/10/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError LockEntry
    (const EvcsEntry& entry,
     const char* entryPathName,
     bool isExclusive=false,
     bool isDefered=false) = 0;
    ///////////////////////////////////////////////////////////////////////
    // Function: UnlockEntry
    //
    //   Author: $author$
    //     Date: 10/10/2007
    ///////////////////////////////////////////////////////////////////////
    virtual EvError UnlockEntry
    (const EvcsEntry& entry,
     const char* entryPathName) = 0;
};
#endif // _EVCSARCHIVE_HPP
